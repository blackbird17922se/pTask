<template>
    <div class="container">
      <!-- Listado de Tareas -->
      <div :class="['task-list', { 'expanded': isFormVisible && !isMobile }]">
        <ul>
          <li v-for="task in tasks" :key="task.id">{{ task.name }}</li>
        </ul>
      </div>
  
      <!-- Formulario para Crear Tarea -->
      <div :class="['task-form', { 'visible': isFormVisible }]">
        <form @submit.prevent="addTask">
          <input v-model="newTask" placeholder="Nueva tarea" />
          <button type="submit">Agregar</button>
        </form>
        <button @click="toggleForm">Cancelar</button>
      </div>
  
      <!-- Botón Flotante para Mostrar/Ocultar el Formulario -->
      <button @click="toggleForm" class="btn-float">+</button>
    </div>
  </template>
  
  <script>
  export default {
    data() {
      return {
        isFormVisible: false,
        newTask: '',
        tasks: [],
        isMobile: false
      };
    },
    mounted() {
      // Detectar si es dispositivo móvil
      this.checkIfMobile();
      window.addEventListener('resize', this.checkIfMobile);
    },
    beforeUnmount() {
      window.removeEventListener('resize', this.checkIfMobile);
    },
    methods: {
      toggleForm() {
        this.isFormVisible = !this.isFormVisible;
      },
      addTask() {
        if (this.newTask) {
          this.tasks.push({ id: Date.now(), name: this.newTask });
          this.newTask = '';
          this.isFormVisible = false; // Ocultar el formulario después de agregar
        }
      },
      checkIfMobile() {
        this.isMobile = window.innerWidth <= 768; // Cambia este valor según el breakpoint que prefieras
      }
    }
  };
  </script>
  

              <!-- <ul>
                <li v-for="tarea in tareas" :key="tarea.id">
                    {{ tarea.nombre }} - {{ tarea.descripcion }} - Completada: {{ tarea.completada }}
    
                    <button @click="eliminarTarea(tarea.id)">Eliminar</button>
                    <router-link :to="`/tareas/${tarea.id}/editar`">Editar</router-link>
                </li>
            </ul> -->